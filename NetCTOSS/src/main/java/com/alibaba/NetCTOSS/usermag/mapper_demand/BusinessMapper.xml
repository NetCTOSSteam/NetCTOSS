<?xml version="1.0" encoding="UTF-8"?>
	<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<mapper namespace="com.alibaba.NetCTOSS.usermag.mapper_demand.BusinessMapper">
		
		<resultMap type="com.alibaba.NetCTOSS.beans.userAndBusBean.BusinessBean" id="beanMap">
			<id property="id" column="bus_id" javaType="int"/>
			<result property="busName" column="bus_name" javaType="string"/>
			<result property="serverIP" column="bus_ip" javaType="string"/>
			<result property="password" column="bus_password" javaType="string"/>
			
			<result property="state" column="bus_state" javaType="string"/>
			<result property="startTime" column="bus_time" javaType="String"/>
			<result property="bo" column="bus_bo" javaType="String"/>
			
			<association property="UserBean" javaType="com.alibaba.NetCTOSS.beans.userAndBusBean.UserBean" >

			    <id property="id" column=""></id>
			    <result property="name" column="f_name" ></result>
			
			</association>
			
			<association property="MealBean" javaType="com.alibaba.NetCTOSS.beans.userAndBusBean.MealBean" >

			    <id property="id" column=""></id>
			    <result property="name" column="f_name" ></result>
			
			</association>
		</resultMap>
		
		<!-- UserBean MealBean  -->
		<select id="findLikeByBean"  resultMap="beanMap">
			select bus_id ,bus_name,bus_ip,bus_password,bus_state ,
			bus_time,bus_bo
			 from t_business 
			<where>
				<if test="1 == 1">
				and bus_bo = 1
				</if>
				
				<if test="bean.account != null">
				and bus_name like COUNT(#{bean.busName},'%') 
				</if>
				<if test="bean.mealBean != null">
				and bus_mea_id = #{bean.mealBean.mealId}
				</if>
				
			</where>
		</select>
		
		<select id="findByBean"  resultMap="beanMap">
			select bus_id ,bus_name,bus_ip,bus_password,bus_state ,
			bus_time,bus_bo
			 from t_business 
			<where>
				<if test="1 == 1">
				and bus_bo = 1
				</if>
				
				<if test="bean.account != null">
				and id like #{bean.id} 
				</if>
			</where>
		</select>
		
		<select id="findByUserId"  resultMap="beanMap">
			select id ,u_name,u_tel,id_card,u_gender ,
			u_address,u_postcode,u_qq,pass_word,u_bo
			 from t_account_day 
			<where>
				<if test="1 == 1">
				and bus_bo = 1
				</if>
				
				<if test="1 == 1">
				and bus_u_id like #{bean.id} 
				</if>
			</where>
		</select>
		
	</mapper>